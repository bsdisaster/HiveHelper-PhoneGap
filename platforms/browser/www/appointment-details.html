<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <title>Appointment details - Hive Helper 1.0</title>

    <link rel="stylesheet" type="text/css" href="styles/style.css">
    <link rel="stylesheet" type="text/css" href="styles/skin.css">
    <link rel="stylesheet" type="text/css" href="styles/framework.css">
    <link rel="stylesheet" type="text/css" href="styles/ionicons.min.css">

    <script type="text/javascript" src="scripts/jquery.js"></script>
    <script type="text/javascript" src="scripts/plugins.js"></script>
    <script type="text/javascript" src="scripts/custom.js"></script>
    <script type="text/javascript" src="scripts/setup_baseurl.js"></script>
    <script src="cordova.js"></script>

</head>

<body>
    <div id="page-transitions">

        <div class="header header-logo-center header-light">
            <a href="dashboard.html" class="header-icon header-icon-5" target="_self">
                <img src="images/back_arrow.png" height="20" />
            </a>
            <a href="dashboard.html" class="header-logo"></a>
            <a href="dashboard.html" class="header-icon header-icon-4" target="_self">
                <img src="images/home-icon.png" height="20" />
            </a>
        </div>
        <div id="page-content" class="page-content">
            <div id="page-content-scroll" class="header-clear">
            <div class="clear">&nbsp;</div>
                    <h3 class="center-text color-black">Appointment details</h3>
                
                <div class="page-fullscreen">
                    <div class="page-fullscreen-content">
                        <div class="pageapp-login register">
                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblFirstName">First Name: </label>
                                <pre class="inline-block"></pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblLastName">Last Name: </label>
                                <pre class="inline-block"></pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblPhone">Phone Number: </label>
                                <pre class="inline-block"></pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblComment">Comment: </label>
                                <pre class="inline-block"></pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblServiceName">Service: </label>
                                <pre class="inline-block">Demo service 10</pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblSubSrviceName">Sub-Service: </label>
                                <pre class="inline-block">Demo service 10</pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblStatus">Status: </label>
                                <pre class="inline-block">Active</pre>
                            </div>
                            <div class="bottom-line"></div>
                            
                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblAppointmentFrom">Appointment From: </label>
                                <pre class="inline-block"></pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblDate">Date: </label>
                                <pre class="inline-block"></pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblAddress">Address: </label>
                                <label class="inline-block">Addres long goes here Addres long goes here Addres long goes here Addres long goes here Addres long goes here Addres long goes here Addres long goes here Addres long goes here Addres long goes here Addres long goes here</label>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblZipcode">Zip Code: </label>
                                <pre class="inline-block">3333332</pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblState">State: </label>
                                <pre class="inline-block">test</pre>
                            </div>
                            <div class="bottom-line"></div>

                            <div class="page-login-input animate-fade">
                                <label class="bold inline-block" id="lblCity">City: </label>
                                <pre class="inline-block">testt</pre>
                            </div>
                            <div class="bottom-line"></div>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            
        }).on('deviceready', function () {
            document.addEventListener("deviceready", deviceReadySuccess, false);
            
        });

        function deviceReadySuccess() {
            adjustPageSize();
            getAppointmentDetails();
        }

        function adjustPageSize() {
            $('.page-fullscreen').css({
                "width": "414px",
                "height": "550px"
            });
        }

        function getAppointmentDetails() {
            window.plugins.spinnerDialog.show("Please wait...", "Loading...", true);

            $.ajax({
                url: api_baseUrl + 'helper/viewAppointment/' + localStorage.getItem('appointmentId'),
                type: "GET",
                dataType: "JSON",
                success: function (response) {
                    // Inserting html into the result div on success
                    window.plugins.spinnerDialog.hide();
                    if (response !== null && response.status === 1) {
                      
                        var appointmentDetails = response.data;

                        $("#lblFirstName").next().html(appointmentDetails[0].firstName);
                        $("#lblLastName").next().html(appointmentDetails[0].lastName);
                        $("#lblPhone").next().html(appointmentDetails[0].phone);
                        $("#lblComment").next().html(appointmentDetails[0].comment);
                        $("#lblServiceName").next().html(appointmentDetails[0].serviceName);
                        $("#lblSubSrviceName").next().html(appointmentDetails[0].subservice);
                        $("#lblStatus").next().html(appointmentDetails[0].status);
                        $("#lblAppointmentFrom").next().html(appointmentDetails[0].appointmentFrom);
                        $("#lblDate").next().html(appointmentDetails[0].appointmentDate);
                        $("#lblAddress").next().html(appointmentDetails[0].address);
                        $("#lblZipcode").next().html(appointmentDetails[0].zipcode);
                        $("#lblState").next().html(appointmentDetails[0].stateName);
                        $("#lblCity").next().html(appointmentDetails[0].city);
                    }
                    else {
                        navigator.notification.alert(response.message, null, 'Warning', 'Close');
                    }
                },
                error: function (jqXHR, text, error) {
                    // Displaying if there are any errors
                    window.plugins.spinnerDialog.hide();

                    if (error == null || error == "") {
                        navigator.notification.alert("It looks like you're offline.!", null, 'Error', 'Close');

                    } else {
                        navigator.notification.alert(error, null, 'Error', 'Close');

                    }
                }
            });
        }
    </script>
</body>
</html>